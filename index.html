<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounting Croes | The Premier Firm of Aruba</title>
    
    <!-- Fonts: Plus Jakarta Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            bg: '#F8FAFC',
                            surface: '#FFFFFF',
                            primary: '#0F172A',
                            accent: '#0284C7',
                            accentDark: '#0369A1',
                            accentLight: '#E0F2FE',
                            text: '#334155',
                            muted: '#64748B',
                            success: '#10B981',
                            warning: '#F59E0B'
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'slide-up': 'slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'marquee': 'marquee 30s linear infinite',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } },
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(40px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        marquee: { '0%': { transform: 'translateX(100%)' }, '100%': { transform: 'translateX(-100%)' } }
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #E2E8F0 1px, transparent 1px), linear-gradient(to bottom, #E2E8F0 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Accessibility Sizes */
        html { font-size: 16px; }
        body.large-text { font-size: 19px; } 
        
        /* High Contrast Mode */
        body.high-contrast { background: #000000; color: #FFFFFF; }
        body.high-contrast .glass, body.high-contrast .glass-card, body.high-contrast .bg-white { background: #000000; border: 1px solid #FFFF00; color: #FFFFFF; }
        body.high-contrast .text-brand-primary, body.high-contrast .text-brand-muted { color: #FFFFFF; }
        body.high-contrast .text-brand-accent { color: #FFFF00; }
        body.high-contrast button, body.high-contrast a.bg-brand-accent { background: #FFFF00; color: #000000; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 12px; }
        ::-webkit-scrollbar-track { background: #F8FAFC; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 6px; border: 3px solid #F8FAFC; }
        ::-webkit-scrollbar-thumb:hover { background: #64748B; }

        body {
            background-color: #F8FAFC;
        }

        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(226, 232, 240, 0.5) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(226, 232, 240, 0.5) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }

        /* Simplified Glassmorphism for Performance */
        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .glass-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: #0284C7;
        }

        .text-gradient-blue {
            background: linear-gradient(135deg, #0284C7 0%, #2563EB 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-section { display: none; opacity: 0; }
        .page-section.active { display: block; opacity: 1; animation: fadeIn 0.4s ease-out forwards; }

        /* Edit Mode Styles */
        .editable-highlight {
            border: 2px dashed #F59E0B;
            background: rgba(253, 230, 138, 0.3);
            cursor: text;
            padding: 4px;
            border-radius: 4px;
        }
        
        .editable-image-highlight {
            border: 4px dashed #F59E0B;
            cursor: pointer;
            opacity: 0.9;
        }
        
        #adminToolbar { transform: translateY(100%); transition: transform 0.3s ease-in-out; }
        #adminToolbar.active { transform: translateY(0); }

        .nav-link { position: relative; }
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 50%;
            background-color: #0284C7; transition: all 0.3s ease; transform: translateX(-50%);
        }
        .nav-link:hover::after, .nav-link.active::after { width: 80%; }
        .nav-link.active { color: #0284C7; font-weight: 600; }
        
        .map-container iframe { width: 100%; height: 100%; border-radius: 1.5rem; }

        #preloader { transition: opacity 0.4s ease-out, visibility 0.4s ease-out; }
        #preloader.loaded { opacity: 0; visibility: hidden; }

        /* Ticker */
        .ticker-wrap {
            width: 100%;
            background-color: #0F172A;
            color: white;
            font-size: 0.85rem;
            padding: 0.75rem 0;
            overflow: hidden;
            position: relative;
            z-index: 100;
        }
        .ticker { display: inline-block; white-space: nowrap; animation: marquee 30s linear infinite; font-weight: 600; letter-spacing: 0.05em; }
    </style>
</head>
<body class="bg-brand-bg text-brand-text font-sans antialiased overflow-x-hidden selection:bg-brand-accent selection:text-white flex flex-col min-h-screen">

    <!-- Preloader -->
    <div id="preloader" class="fixed inset-0 bg-brand-bg z-[9999] flex items-center justify-center">
        <div class="text-center">
            <div class="w-20 h-20 bg-gradient-to-br from-brand-accent to-blue-700 rounded-3xl flex items-center justify-center text-white text-4xl font-bold mb-6 shadow-2xl mx-auto">A</div>
            <div class="text-brand-primary font-bold text-2xl tracking-tight">Accounting Croes</div>
            <p class="text-brand-muted mt-2 text-sm">Loading...</p>
        </div>
    </div>

    <!-- Scroll Progress Bar -->
    <div class="fixed top-0 left-0 w-full h-1.5 z-[100] mt-[40px]">
        <div class="h-full bg-brand-accent" id="scrollProgress" style="width: 0%"></div>
    </div>

    <!-- Hidden File Input for Image Uploads -->
    <input type="file" id="imageUploadInput" accept="image/*" class="hidden">

    <!-- Background -->
    <div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
        <div class="bg-grid absolute inset-0 z-0 h-[80vh]"></div>
        <!-- Reduced blur radii for performance -->
        <div class="absolute w-[500px] h-[500px] bg-blue-100/50 rounded-full top-[-100px] left-[-200px] blur-3xl"></div>
        <div class="absolute w-[400px] h-[400px] bg-indigo-100/50 rounded-full bottom-[-100px] right-[-100px] blur-3xl"></div>
    </div>

    <!-- News Ticker -->
    <div class="ticker-wrap fixed top-0 w-full shadow-md">
        <div class="ticker editable" data-key="news-ticker">
            ðŸ“¢ Upcoming Tax Deadline: 15th of the Month (BBO/Loonbelasting) â€¢ Contact us today to ensure compliance â€¢ Aruba's #1 Family Accounting Firm since 2003
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass transition-all duration-300 mt-[40px]" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-24 transition-all duration-300" id="nav-container">
                <!-- Logo -->
                <a href="#home" class="flex items-center gap-3 group" onclick="route(event, 'home')">
                    <div class="w-11 h-11 bg-gradient-to-br from-brand-accent to-blue-700 rounded-xl flex items-center justify-center text-white shadow-lg">
                        <span class="font-bold text-2xl">A</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="font-bold text-xl tracking-tight text-brand-primary leading-none">Accounting <span class="text-brand-accent">Croes</span></span>
                        <span class="text-[11px] uppercase tracking-widest text-brand-muted font-semibold mt-1">Est. 2003 â€¢ Aruba</span>
                    </div>
                </a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-4 lg:gap-6">
                    <div class="flex items-center space-x-1 lg:space-x-2">
                        <a href="#home" onclick="route(event, 'home')" class="nav-link text-brand-text hover:text-brand-accent transition-colors px-2 lg:px-3 py-2 rounded-md text-sm font-medium" data-i18n="nav-home">Home</a>
                        <a href="#about" onclick="route(event, 'about')" class="nav-link text-brand-text hover:text-brand-accent transition-colors px-2 lg:px-3 py-2 rounded-md text-sm font-medium" data-i18n="nav-about">About</a>
                        <a href="#services" onclick="route(event, 'services')" class="nav-link text-brand-text hover:text-brand-accent transition-colors px-2 lg:px-3 py-2 rounded-md text-sm font-medium" data-i18n="nav-services">Services</a>
                        <a href="#resources" onclick="route(event, 'resources')" class="nav-link text-brand-text hover:text-brand-accent transition-colors px-2 lg:px-3 py-2 rounded-md text-sm font-medium" data-i18n="nav-tools">Tools</a>
                        <a href="#careers" onclick="route(event, 'careers')" class="nav-link text-brand-text hover:text-brand-accent transition-colors px-2 lg:px-3 py-2 rounded-md text-sm font-medium" data-i18n="nav-careers">Careers</a>
                    </div>
                    
                    <!-- New Language Switcher Design -->
                    <div class="flex items-center bg-gray-100 rounded-full p-1 border border-gray-200">
                        <button onclick="changeLang('en')" class="lang-btn px-3 py-1 rounded-full text-xs font-bold transition-all text-brand-muted hover:text-brand-primary" id="lang-en">EN</button>
                        <button onclick="changeLang('pap')" class="lang-btn px-3 py-1 rounded-full text-xs font-bold transition-all text-brand-muted hover:text-brand-primary" id="lang-pap">PAP</button>
                        <button onclick="changeLang('nl')" class="lang-btn px-3 py-1 rounded-full text-xs font-bold transition-all text-brand-muted hover:text-brand-primary" id="lang-nl">NL</button>
                        <button onclick="changeLang('es')" class="lang-btn px-3 py-1 rounded-full text-xs font-bold transition-all text-brand-muted hover:text-brand-primary" id="lang-es">ES</button>
                    </div>

                    <div class="flex items-center gap-2 border-l border-gray-200 pl-4 h-10">
                        <button id="navClientLoginBtn" onclick="openClientLogin()" class="text-brand-text hover:text-brand-accent text-sm font-bold transition-colors flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-50">
                            <i data-lucide="lock" class="w-4 h-4"></i> <span data-i18n="nav-login">Login</span>
                        </button>
                        <button onclick="openBooking()" class="bg-brand-primary hover:bg-brand-accent text-white px-4 py-2 rounded-full text-sm font-bold transition-all shadow-md hover:shadow-lg flex items-center gap-2 transform active:scale-95">
                            <span data-i18n="nav-book">Book Now</span>
                            <i data-lucide="calendar-plus" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <div class="-mr-2 flex md:hidden">
                    <button onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-3 rounded-lg text-brand-text hover:bg-gray-100 focus:outline-none">
                        <i data-lucide="menu" class="h-7 w-7"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-xl border-t border-gray-100 shadow-2xl absolute w-full">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <a href="#home" onclick="route(event, 'home')" class="block px-4 py-3 rounded-lg text-base font-medium text-brand-primary hover:bg-brand-accentLight">Home</a>
                <a href="#about" onclick="route(event, 'about')" class="block px-4 py-3 rounded-lg text-base font-medium text-brand-text hover:bg-brand-accentLight">About Us</a>
                <a href="#services" onclick="route(event, 'services')" class="block px-4 py-3 rounded-lg text-base font-medium text-brand-text hover:bg-brand-accentLight">Services</a>
                <a href="#resources" onclick="route(event, 'resources')" class="block px-4 py-3 rounded-lg text-base font-medium text-brand-text hover:bg-brand-accentLight">Tools</a>
                <a href="#careers" onclick="route(event, 'careers')" class="block px-4 py-3 rounded-lg text-base font-medium text-brand-text hover:bg-brand-accentLight">Careers</a>
                
                <!-- Mobile Language Options -->
                <div class="grid grid-cols-4 gap-2 pt-2">
                    <button onclick="changeLang('en')" class="text-center py-2 bg-gray-50 rounded font-bold text-xs">EN</button>
                    <button onclick="changeLang('pap')" class="text-center py-2 bg-gray-50 rounded font-bold text-xs">PAP</button>
                    <button onclick="changeLang('nl')" class="text-center py-2 bg-gray-50 rounded font-bold text-xs">NL</button>
                    <button onclick="changeLang('es')" class="text-center py-2 bg-gray-50 rounded font-bold text-xs">ES</button>
                </div>

                <div class="pt-4 border-t border-gray-100 mt-2 space-y-3">
                    <button onclick="openBooking()" class="block w-full text-center px-4 py-3 rounded-xl text-base font-bold bg-brand-primary text-white hover:bg-brand-accent shadow-md">Book Consultation</button>
                    <button onclick="openClientLogin()" class="block w-full text-center px-4 py-3 rounded-xl text-base font-medium text-brand-accent bg-blue-50 border border-blue-100">Client Login</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow pt-32">

        <!-- PAGE: HOME -->
        <div id="home" class="page-section active">
            <section class="relative pt-8 pb-20 lg:pt-20 lg:pb-32 overflow-hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                        <div class="text-center lg:text-left animate-slide-up">
                            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-brand-accent/20 shadow-sm mb-8 backdrop-blur-sm">
                                <span class="w-2.5 h-2.5 rounded-full bg-brand-accent animate-pulse"></span>
                                <span class="text-xs font-bold uppercase tracking-wider text-brand-accent editable" data-key="hero-badge" data-i18n="hero-badge">Proud Aruban Family Business</span>
                            </div>

                            <h1 class="text-5xl lg:text-7xl font-extrabold tracking-tight mb-8 leading-[1.1] text-brand-primary">
                                <span class="editable" data-key="hero-title-1" data-i18n="hero-title-1">Exclusively for Aruba.</span><br>
                                <span class="text-gradient-blue editable" data-key="hero-title-2" data-i18n="hero-title-2">Unmatched Quality.</span>
                            </h1>
                            
                            <p class="mt-4 text-xl text-brand-muted mb-10 leading-relaxed max-w-2xl mx-auto lg:mx-0 editable" data-key="hero-desc" data-i18n="hero-desc">
                                At Accounting Croes, we treat your finances like our own. As a well-known family business, we are dedicated to working for your best benefits with honesty, clarity, and 23 years of local expertise.
                            </p>
                            
                            <div class="flex flex-col sm:flex-row justify-center lg:justify-start gap-4">
                                <a href="#contact" onclick="openContact()" class="px-8 py-4 bg-brand-accent hover:bg-brand-accentDark text-white rounded-full font-bold text-lg transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2 transform active:scale-95">
                                    <span data-i18n="btn-start">Start a Conversation</span> <i data-lucide="arrow-right" class="w-5 h-5"></i>
                                </a>
                                <a href="#services" onclick="route(event, 'services')" class="px-8 py-4 bg-white hover:bg-gray-50 border border-gray-200 text-brand-primary rounded-full font-bold text-lg transition-all shadow-sm hover:shadow-md flex items-center justify-center transform active:scale-95">
                                    <span data-i18n="btn-explore">Explore Services</span>
                                </a>
                            </div>
                        </div>
                        
                        <div class="relative animate-fade-in lg:block hidden" id="hero-image-container">
                            <div class="relative z-10 rounded-[2.5rem] overflow-hidden shadow-2xl border-8 border-white/50 backdrop-blur-sm">
                                <div class="absolute inset-0 bg-brand-primary/10 transition-colors z-10 pointer-events-none"></div>
                                <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Accounting Office" class="w-full h-auto object-cover scale-105 editable-img" data-key="hero-img">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Trust Indicators -->
                    <div class="mt-24 pt-10 border-t border-gray-200/60 max-w-5xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 animate-slide-up" style="animation-delay: 0.1s;">
                        <div class="text-center">
                            <p class="text-4xl font-bold text-brand-primary editable" data-key="stat-1">23</p>
                            <p class="text-xs uppercase tracking-widest text-brand-muted mt-2 font-semibold editable" data-key="stat-label-1" data-i18n="stat-years">Years Experience</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-brand-primary editable" data-key="stat-2">100%</p>
                            <p class="text-xs uppercase tracking-widest text-brand-muted mt-2 font-semibold editable" data-key="stat-label-2" data-i18n="stat-focus">Local Focus</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-brand-primary editable" data-key="stat-3">24h</p>
                            <p class="text-xs uppercase tracking-widest text-brand-muted mt-2 font-semibold editable" data-key="stat-label-3" data-i18n="stat-resp">Response Time</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-brand-primary editable" data-key="stat-4">Family</p>
                            <p class="text-xs uppercase tracking-widest text-brand-muted mt-2 font-semibold editable" data-key="stat-label-4" data-i18n="stat-owned">Owned & Operated</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: ABOUT -->
        <div id="about" class="page-section">
            <section class="py-24 relative">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-20 animate-slide-up">
                        <span class="text-brand-accent font-bold tracking-widest uppercase text-sm" data-i18n="about-badge">About Us</span>
                        <h1 class="text-4xl lg:text-5xl font-bold text-brand-primary mt-3 mb-6 editable" data-key="about-hero-title" data-i18n="about-title">Who We Are</h1>
                        <p class="text-xl text-brand-muted max-w-2xl mx-auto editable" data-key="about-hero-sub" data-i18n="about-sub">Deep roots in Aruba, committed to your future.</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-20 items-center">
                        <div class="relative animate-slide-up"><img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="rounded-[2rem] w-full shadow-2xl editable-img" data-key="about-img"></div>
                        <div class="animate-slide-up">
                            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-brand-primary" data-i18n="about-header">An accounting firm that feels like family.</h2>
                            <p class="text-brand-muted text-lg mb-8 editable" data-key="about-p1" data-i18n="about-p1">We know the stereotype: expensive firms that treat you like a number.</p>
                            <p class="text-brand-muted text-lg mb-8 editable" data-key="about-p2" data-i18n="about-p2"><strong>Accounting Croes</strong> is different. We are a family business deeply rooted in Aruba.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: SERVICES -->
        <div id="services" class="page-section">
            <section class="py-24">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-brand-primary editable" data-key="services-title" data-i18n="svc-main-title">Simplicity & Value</h2>
                        <button id="addServiceBtn" onclick="addService()" class="hidden mt-6 px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full font-bold shadow-lg">+ Add New Service</button>
                    </div>
                    <div id="services-container" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
                </div>
            </section>
        </div>

        <!-- PAGE: SERVICE DETAIL -->
        <div id="service-detail" class="page-section">
            <section class="py-24 bg-white/50 min-h-screen">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                    <button onclick="route(event, 'services')" class="mb-10 flex items-center text-brand-muted hover:text-brand-accent transition-colors font-medium group">
                        <span class="p-2 bg-white rounded-full shadow-sm mr-3 group-hover:-translate-x-1 transition-transform"><i data-lucide="arrow-left" class="w-4 h-4"></i></span> <span data-i18n="btn-back">Back to Services</span>
                    </button>
                    <div class="glass-card p-10 md:p-14 rounded-[2.5rem] border border-white shadow-xl bg-white/80">
                        <div id="detail-icon-container" class="w-20 h-20 bg-brand-accentLight rounded-2xl flex items-center justify-center shadow-inner mb-8"></div>
                        <h1 id="detail-title" class="text-4xl md:text-5xl font-bold text-brand-primary mb-8 editable" data-key="detail-title">Service Title</h1>
                        <div class="prose prose-lg text-brand-muted max-w-none">
                            <p id="detail-desc" class="editable text-xl leading-relaxed" data-key="detail-desc">Description</p>
                            <hr class="my-10 border-gray-200">
                            <h3 class="text-2xl font-bold text-brand-primary mb-6" data-i18n="svc-detail-include">What we include:</h3>
                            <div id="detail-content" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                            <div class="mt-14 p-8 bg-gradient-to-br from-brand-primary to-slate-900 rounded-3xl text-white shadow-2xl relative overflow-hidden group">
                                <h4 class="text-2xl font-bold mb-3 relative z-10" data-i18n="svc-detail-ready">Ready to get started?</h4>
                                <button onclick="openContact(document.getElementById('detail-title').innerText)" class="bg-white text-brand-primary hover:bg-brand-accentLight px-8 py-3.5 rounded-xl font-bold transition-colors shadow-lg flex items-center gap-2 relative z-10 mt-6"><span data-i18n="btn-quote">Get a Free Quote</span></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: RESOURCES -->
        <div id="resources" class="page-section">
            <section class="py-24">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16"><h2 class="text-3xl md:text-4xl font-bold mb-4 text-brand-primary" data-i18n="res-title">Financial Resources</h2></div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                        <div class="bg-white rounded-[2rem] p-10 border border-gray-100 shadow-xl relative overflow-hidden">
                            <h3 class="text-2xl font-bold text-brand-primary mb-8" data-i18n="res-tax">Next Tax Deadline</h3>
                            <div class="text-center py-10 bg-brand-bg rounded-2xl border border-gray-100">
                                <div class="text-6xl font-extrabold text-brand-primary my-4" id="deadline-counter">...</div>
                                <div class="text-xl text-brand-muted mb-4 font-medium" id="deadline-date">...</div>
                            </div>
                        </div>
                        <div class="bg-white rounded-[2rem] p-10 border border-gray-100 shadow-xl">
                            <h3 class="text-2xl font-bold text-brand-primary mb-2">BBO Calculator</h3>
                            <input type="number" id="calc-input" placeholder="100.00" class="w-full bg-brand-bg border border-gray-200 rounded-xl px-4 py-4 pl-10 text-brand-primary font-bold text-2xl mt-6 mb-6" oninput="calculateBBO()">
                            <div class="bg-brand-primary rounded-2xl p-6 space-y-3 text-white shadow-lg">
                                <div class="flex justify-between text-sm opacity-80"><span>Total Tax (7%)</span><span class="font-mono text-2xl font-bold text-brand-success">Æ’ <span id="res-total">0.00</span></span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: CAREERS -->
        <div id="careers" class="page-section">
            <section class="py-24 bg-brand-primary relative overflow-hidden min-h-[90vh] flex items-center">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                        <div class="text-white">
                            <h2 class="text-4xl md:text-6xl font-bold mb-8 leading-tight" data-i18n="career-title">Start Your Career</h2>
                            <p class="text-slate-300 text-lg mb-10 editable" data-key="career-desc" data-i18n="career-desc">Join the family.</p>
                        </div>
                        <div class="space-y-6">
                            <div class="bg-white rounded-[2rem] p-8 border-l-8 border-brand-accent shadow-2xl">
                                <h3 class="text-2xl font-bold text-brand-primary mb-3 editable" data-key="job-1-title">Accounting Intern</h3>
                                <button onclick="openContact('internship')" class="w-full py-4 bg-brand-primary text-white rounded-xl font-bold mt-4" data-i18n="btn-apply">Apply Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- PAGE: CONTACT -->
        <div id="contact" class="page-section">
            <section class="py-24 bg-brand-bg min-h-[85vh] flex flex-col justify-center">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
                    <div class="glass p-1 rounded-[2.5rem] bg-gradient-to-br from-white to-blue-50 shadow-2xl mb-12">
                        <div class="bg-white/90 rounded-[2.3rem] p-8 md:p-16 backdrop-blur-xl">
                            <h2 class="text-4xl font-bold mb-4 text-brand-primary text-center editable" data-key="contact-title" data-i18n="contact-title">Let's solve it together.</h2>
                            <form id="contactForm" class="space-y-8 mt-8" onsubmit="handleEmail(event)">
                                <input type="text" id="name" required class="w-full bg-brand-bg border-0 ring-1 ring-gray-200 rounded-xl px-5 py-4" placeholder="Your Name">
                                <input type="email" id="email" required class="w-full bg-brand-bg border-0 ring-1 ring-gray-200 rounded-xl px-5 py-4" placeholder="Your Email">
                                <select id="topic" class="w-full bg-brand-bg border-0 ring-1 ring-gray-200 rounded-xl px-5 py-4"><option>General Inquiry</option><option>Internship Application</option></select>
                                <textarea id="message" rows="4" required class="w-full bg-brand-bg border-0 ring-1 ring-gray-200 rounded-xl px-5 py-4" placeholder="Message"></textarea>
                                <button type="submit" class="w-full bg-brand-accent text-white font-bold text-lg py-5 rounded-xl shadow-lg" data-i18n="btn-send">Send Email</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ... (Client Dashboard remains same) ... -->
        <div id="client-dashboard" class="page-section">
            <section class="py-16 bg-gray-50 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Dashboard Header -->
                    <div class="flex justify-between items-end mb-12">
                        <div>
                            <span class="text-brand-accent font-bold uppercase tracking-widest text-xs">Client Portal</span>
                            <h1 class="text-3xl md:text-4xl font-bold text-brand-primary mt-2">Welcome, <span id="dashboard-client-name" class="text-brand-accent">Client</span></h1>
                        </div>
                        <button onclick="clientLogout()" class="text-red-500 hover:text-red-600 font-medium text-sm flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm hover:shadow transition-all">
                            <i data-lucide="log-out" class="w-4 h-4"></i> Logout
                        </button>
                    </div>
                    <!-- Status Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                        <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div class="flex items-center justify-between mb-4"><h3 class="font-bold text-brand-primary">Tax Status</h3><div class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold">Up to Date</div></div><div class="text-3xl font-bold text-brand-primary mb-1">Filed</div></div>
                        <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div class="flex items-center justify-between mb-4"><h3 class="font-bold text-brand-primary">Next Deadline</h3><div class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold">Upcoming</div></div><div class="text-3xl font-bold text-brand-primary mb-1">12 Days</div></div>
                        <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div class="flex items-center justify-between mb-4"><h3 class="font-bold text-brand-primary">Messages</h3><div class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-bold">0 New</div></div><div class="text-3xl font-bold text-brand-primary mb-1">All Read</div></div>
                    </div>
                </div>
            </section>
        </div>

    </main>

    <!-- Floating Actions Container -->
    <div class="fixed bottom-8 right-8 z-50 flex flex-col gap-4">
        <!-- Call Button -->
        <a href="tel:+2975820000" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg shadow-blue-500/40 transition-all hover:-translate-y-1 hover:shadow-2xl flex items-center justify-center group" title="Call Us">
            <i data-lucide="phone" class="w-7 h-7"></i>
        </a>
        <!-- WhatsApp Button -->
        <a href="https://wa.me/2975820000" target="_blank" class="bg-[#25D366] hover:bg-[#20bd5a] text-white p-4 rounded-full shadow-lg shadow-green-500/40 transition-all hover:-translate-y-1 hover:shadow-2xl flex items-center justify-center group">
            <i data-lucide="message-circle" class="w-7 h-7"></i>
        </a>
    </div>

    <!-- Accessibility Widget -->
    <div class="fixed bottom-8 left-8 z-50 group">
        <div id="a11y-menu" class="hidden absolute bottom-16 left-0 bg-white rounded-xl shadow-2xl border border-gray-100 p-4 w-48 mb-2 space-y-2">
            <button onclick="toggleLargeText()" class="w-full text-left px-3 py-2 hover:bg-gray-50 rounded-lg font-bold text-brand-primary flex items-center gap-2">
                <i data-lucide="type" class="w-4 h-4"></i> Larger Text
            </button>
            <button onclick="toggleHighContrast()" class="w-full text-left px-3 py-2 hover:bg-gray-50 rounded-lg font-bold text-brand-primary flex items-center gap-2">
                <i data-lucide="sun" class="w-4 h-4"></i> High Contrast
            </button>
        </div>
        <button onclick="toggleA11yMenu()" class="bg-white text-brand-primary hover:text-brand-accent p-4 rounded-full shadow-lg border border-gray-100 transition-all hover:-translate-y-1">
            <i data-lucide="eye" class="w-7 h-7"></i>
        </button>
    </div>

    <!-- Footer -->
    <footer class="bg-brand-primary pt-24 pb-12 border-t border-white/10 text-slate-300 relative z-20 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-20 mb-20">
                <!-- Brand -->
                <div class="space-y-8">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-brand-accent rounded-xl flex items-center justify-center text-white"><span class="font-bold text-xl">A</span></div>
                        <span class="font-bold text-2xl text-white tracking-tight">Accounting <span class="text-brand-accent">Croes</span></span>
                    </div>
                    <p class="text-sm leading-relaxed text-slate-400 font-medium" data-i18n="footer-desc">Proud Family Business serving Aruba since 2003.</p>
                </div>
                <!-- Links -->
                <div>
                    <h3 class="text-white font-bold mb-8 text-lg" data-i18n="footer-company">Company</h3>
                    <ul class="space-y-4 text-sm font-medium">
                        <li><a href="#home" onclick="route(event, 'home')" class="hover:text-brand-accent transition-colors block" data-i18n="nav-home">Home</a></li>
                        <li><a href="#about" onclick="route(event, 'about')" class="hover:text-brand-accent transition-colors block" data-i18n="nav-about">About Us</a></li>
                        <li><a href="#services" onclick="route(event, 'services')" class="hover:text-brand-accent transition-colors block" data-i18n="nav-services">Services</a></li>
                        <li><a href="#resources" onclick="route(event, 'resources')" class="hover:text-brand-accent transition-colors block" data-i18n="nav-tools">Resources</a></li>
                        <li><a href="#careers" onclick="route(event, 'careers')" class="hover:text-brand-accent transition-colors block" data-i18n="nav-careers">Careers</a></li>
                    </ul>
                </div>
                <!-- Services -->
                <div>
                    <h3 class="text-white font-bold mb-8 text-lg" data-i18n="footer-expertise">Expertise</h3>
                    <ul class="space-y-4 text-sm font-medium">
                        <li><a href="#services" onclick="route(event, 'services')" class="hover:text-brand-accent transition-colors block">Tax Preparation</a></li>
                        <li><a href="#services" onclick="route(event, 'services')" class="hover:text-brand-accent transition-colors block">Business Bookkeeping</a></li>
                        <li><a href="#services" onclick="route(event, 'services')" class="hover:text-brand-accent transition-colors block">Payroll Solutions</a></li>
                    </ul>
                </div>
                <!-- Contact -->
                <div>
                    <h3 class="text-white font-bold mb-8 text-lg" data-i18n="footer-contact">Contact</h3>
                    <ul class="space-y-6 text-sm font-medium">
                        <li class="flex items-start gap-4"><i data-lucide="map-pin" class="w-6 h-6 text-brand-accent shrink-0 mt-0.5"></i><span class="text-slate-300">L.G. Smith Blvd 100,<br>Oranjestad, Aruba</span></li>
                        <li class="flex items-center gap-4"><i data-lucide="mail" class="w-6 h-6 text-brand-accent shrink-0"></i><a href="mailto:contact@accountingcroes.com" class="hover:text-white transition-colors">contact@accountingcroes.com</a></li>
                        <li class="flex items-center gap-4"><i data-lucide="phone" class="w-6 h-6 text-brand-accent shrink-0"></i><span>+297 582 0000</span></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-white/10 pt-10 flex flex-col md:flex-row justify-between items-center gap-6 text-xs text-slate-500 font-medium">
                <div class="flex items-center gap-4">
                    <p>&copy; 2026 Accounting Croes Firm. All rights reserved.</p>
                    <button onclick="toggleAdminPanel()" class="p-2 hover:bg-white/10 rounded-full transition-all text-slate-600 hover:text-white cursor-pointer" title="Admin Login"><i data-lucide="lock" class="w-3 h-3"></i></button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Admin Toolbar, Modals -->
    <div id="adminToolbar" class="fixed bottom-0 left-0 w-full bg-slate-900 border-t border-slate-700 p-4 shadow-2xl z-[100] flex justify-between items-center">
        <div class="flex items-center gap-4"><span class="bg-yellow-400 text-slate-900 text-xs font-bold px-2 py-1 rounded animate-pulse">ADMIN MODE</span></div>
        <div class="flex gap-3"><button onclick="saveChanges()" class="px-4 py-2 bg-brand-accent hover:bg-blue-600 text-white rounded text-sm font-bold shadow-lg">Save Changes</button><button onclick="exitAdmin()" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm">Exit</button></div>
    </div>
    <div id="loginModal" class="fixed inset-0 z-[10000] hidden flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-slate-900 border border-slate-700 p-8 rounded-2xl w-full max-w-sm shadow-2xl relative">
            <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-slate-500 hover:text-white"><i data-lucide="x" class="w-5 h-5"></i></button>
            <div class="text-center mb-6"><h3 class="text-xl font-bold text-white" id="loginTitle">Login</h3></div>
            <form onsubmit="handleLoginSubmit(event)" class="space-y-4"><input type="password" id="loginPassword" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white" placeholder="Password" required><button type="submit" class="w-full py-3 bg-brand-accent hover:bg-blue-600 text-white rounded-lg font-bold">Login</button></form>
        </div>
    </div>
    <!-- Booking Modal -->
    <div id="bookingModal" class="fixed inset-0 z-[10002] hidden flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-white p-8 rounded-[2rem] w-full max-w-md shadow-2xl relative">
            <button onclick="closeBooking()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-2xl font-bold text-brand-primary mb-2">Schedule Consultation</h2>
            <form onsubmit="handleBooking(event)" class="space-y-4">
                <div><label class="text-xs font-bold uppercase text-gray-500">Service</label><select class="w-full border p-3 rounded-xl mt-1"><option>General Consultation</option></select></div>
                <div><label class="text-xs font-bold uppercase text-gray-500">Date</label><input type="date" class="w-full border p-3 rounded-xl mt-1" required></div>
                <button type="submit" class="w-full bg-brand-primary text-white font-bold py-3 rounded-xl hover:bg-brand-accent mt-4">Confirm</button>
            </form>
        </div>
    </div>

    <script>
        // --- TRANSLATIONS ---
        const translations = {
            en: {
                "nav-home": "Home", "nav-about": "About", "nav-services": "Services", "nav-tools": "Tools", "nav-careers": "Careers", "nav-login": "Login", "nav-book": "Book Now",
                "hero-badge": "Proud Aruban Family Business", "hero-title-1": "Exclusively for Aruba.", "hero-title-2": "Unmatched Quality.",
                "hero-desc": "At Accounting Croes, we treat your finances like our own. As a well-known family business, we are dedicated to working for your best benefits with honesty, clarity, and 23 years of local expertise.",
                "stat-years": "Years Experience", "stat-focus": "Local Focus", "stat-resp": "Response Time", "stat-owned": "Owned & Operated",
                "btn-start": "Start a Conversation", "btn-explore": "Explore Services",
                "about-badge": "About Us", "about-title": "Who We Are", "about-sub": "Deep roots in Aruba, committed to your future.",
                "about-header": "An accounting firm that feels like family.",
                "about-p1": "We know the stereotype: expensive firms that treat you like a number.",
                "about-p2": "Accounting Croes is different. We are a family business deeply rooted in Aruba.",
                "svc-main-title": "Simplicity & Value",
                "career-title": "Start Your Career", "career-desc": "Join the family.", "btn-apply": "Apply Now",
                "contact-title": "Let's solve it together.", "btn-send": "Send Email",
                "footer-desc": "Proud Family Business serving Aruba since 2003.", "footer-company": "Company", "footer-expertise": "Expertise", "footer-contact": "Contact",
                "res-title": "Financial Resources", "res-tax": "Next Tax Deadline",
                "btn-back": "Back to Services", "svc-detail-include": "What we include:", "svc-detail-ready": "Ready to get started?", "btn-quote": "Get a Free Quote",
                "faq-title": "Common Questions"
            },
            pap: {
                "nav-home": "Inicio", "nav-about": "Nos", "nav-services": "Servicio", "nav-tools": "Herment", "nav-careers": "Carrera", "nav-login": "Drenta", "nav-book": "Traha Cita",
                "hero-badge": "Negoshi Familiar Arubiano", "hero-title-1": "Exclusivamente pa Aruba.", "hero-title-2": "Calidad Sin Igual.",
                "hero-desc": "Na Accounting Croes, nos ta trata bo financia manera di nos mes. Como un negoshi familiar bon conoci, nos ta dedica na traha pa bo miho beneficionan cu honestidad.",
                "stat-years": "AÃ±a di Experiencia", "stat-focus": "Enfoke Local", "stat-resp": "Tempo di Respuesta", "stat-owned": "Propiedad Familiar",
                "btn-start": "Cuminsa Combersacion", "btn-explore": "Explora Servicionan",
                "about-badge": "Tocante Nos", "about-title": "Ken Nos Ta", "about-sub": "Raiznan profundo na Aruba, comprometi cu bo futuro.",
                "about-header": "Un oficina di contabilidad cu ta sinti manera famia.",
                "about-p1": "Nos conoce e stereotipo: firmanan caro cu ta trata bo manera un number.",
                "about-p2": "Accounting Croes ta diferente. Nos ta un negoshi familiar cu raiznan profundo na Aruba.",
                "svc-main-title": "Simplicidad y Balor",
                "career-title": "Cuminsa Bo Carrera", "career-desc": "Drenta e famia.", "btn-apply": "Applica Awor",
                "contact-title": "Ban solve hunto.", "btn-send": "Manda Email",
                "footer-desc": "Negoshi Familiar sirbiendo Aruba desde 2003.", "footer-company": "Compania", "footer-expertise": "Expertise", "footer-contact": "Contacto",
                "res-title": "Recurso Financiero", "res-tax": "Siguiente Deadline",
                "btn-back": "Bay Bek na Servicio", "svc-detail-include": "Kico nos ta inclui:", "svc-detail-ready": "Cla pa cuminsa?", "btn-quote": "HaÃ±a un Cotisacion",
                "faq-title": "Preguntanan Comun"
            },
            nl: {
                "nav-home": "Home", "nav-about": "Over Ons", "nav-services": "Diensten", "nav-tools": "Tools", "nav-careers": "CarriÃ¨re", "nav-login": "Inloggen", "nav-book": "Afspraak",
                "hero-badge": "Trots Arubaans Familiebedrijf", "hero-title-1": "Exclusief voor Aruba.", "hero-title-2": "OngeÃ«venaarde Kwaliteit.",
                "hero-desc": "Bij Accounting Croes behandelen we uw financiÃ«n als die van onszelf. Als bekend familiebedrijf zetten wij ons in voor uw beste voordelen met eerlijkheid.",
                "stat-years": "Jaren Ervaring", "stat-focus": "Lokale Focus", "stat-resp": "Reactietijd", "stat-owned": "Familiebedrijf",
                "btn-start": "Start een Gesprek", "btn-explore": "Bekijk Diensten",
                "about-badge": "Over Ons", "about-title": "Wie We Zijn", "about-sub": "Diepe wortels in Aruba, toegewijd aan uw toekomst.",
                "about-header": "Een accountantskantoor dat voelt als familie.",
                "about-p1": "We kennen het stereotype: dure kantoren die u behandelen als een nummer.",
                "about-p2": "Accounting Croes is anders. Wij zijn een familiebedrijf met diepe wortels in Aruba.",
                "svc-main-title": "Eenvoud & Waarde",
                "career-title": "Start Je CarriÃ¨re", "career-desc": "Sluit je aan bij de familie.", "btn-apply": "Nu Solliciteren",
                "contact-title": "Laten we het samen oplossen.", "btn-send": "Verstuur Email",
                "footer-desc": "Trots Familiebedrijf dat Aruba bedient sinds 2003.", "footer-company": "Bedrijf", "footer-expertise": "Expertise", "footer-contact": "Contact",
                "res-title": "FinanciÃ«le Bronnen", "res-tax": "Volgende Deadline",
                "btn-back": "Terug naar Diensten", "svc-detail-include": "Wat wij bieden:", "svc-detail-ready": "Klaar om te starten?", "btn-quote": "Ontvang Offerte",
                "faq-title": "Veelgestelde Vragen"
            },
            es: {
                "nav-home": "Inicio", "nav-about": "Nosotros", "nav-services": "Servicios", "nav-tools": "Herramientas", "nav-careers": "Carreras", "nav-login": "Entrar", "nav-book": "Reservar",
                "hero-badge": "Orgullosa Empresa Familiar", "hero-title-1": "Exclusivamente para Aruba.", "hero-title-2": "Calidad Inigualable.",
                "hero-desc": "En Accounting Croes, tratamos sus finanzas como las nuestras. Como empresa familiar reconocida, nos dedicamos a trabajar por sus mejores beneficios con honestidad.",
                "stat-years": "AÃ±os de Experiencia", "stat-focus": "Enfoque Local", "stat-resp": "Tiempo de Respuesta", "stat-owned": "Empresa Familiar",
                "btn-start": "Iniciar ConversaciÃ³n", "btn-explore": "Explorar Servicios",
                "about-badge": "Sobre Nosotros", "about-title": "QuiÃ©nes Somos", "about-sub": "RaÃ­ces profundas en Aruba, comprometidos con su futuro.",
                "about-header": "Una firma contable que se siente como familia.",
                "about-p1": "Conocemos el estereotipo: firmas costosas que lo tratan como un nÃºmero.",
                "about-p2": "Accounting Croes es diferente. Somos una empresa familiar con raÃ­ces profundas en Aruba.",
                "svc-main-title": "Simplicidad y Valor",
                "career-title": "Inicia Tu Carrera", "career-desc": "Ãšnete a la familia.", "btn-apply": "Aplicar Ahora",
                "contact-title": "Resolvamos esto juntos.", "btn-send": "Enviar Correo",
                "footer-desc": "Empresa familiar sirviendo a Aruba desde 2003.", "footer-company": "Empresa", "footer-expertise": "Experiencia", "footer-contact": "Contacto",
                "res-title": "Recursos Financieros", "res-tax": "PrÃ³xima Fecha LÃ­mite",
                "btn-back": "Volver a Servicios", "svc-detail-include": "Lo que incluimos:", "svc-detail-ready": "Â¿Listo para empezar?", "btn-quote": "Obtener CotizaciÃ³n",
                "faq-title": "Preguntas Comunes"
            }
        };

        // --- DATA STATE ---
        let appState = {
            text: {},
            images: {},
            currentLang: 'en',
            services: [
                {
                    id: 1, 
                    title: { en: "Business Growth", pap: "Crecemento di Negoshi", nl: "Bedrijfsgroei", es: "Crecimiento Empresarial" },
                    desc: { en: "Comprehensive bookkeeping.", pap: "Boekhouding completo.", nl: "Uitgebreide boekhouding.", es: "Contabilidad integral." },
                    icon: "briefcase", items: ["Monthly Reports", "Payroll", "BBO Filing"], extended: "Full business support."
                },
                {
                    id: 2, 
                    title: { en: "Tax Strategy", pap: "Strategia di Impuesto", nl: "Belastingstrategie", es: "Estrategia Fiscal" },
                    desc: { en: "Proactive planning.", pap: "Planificacion proactivo.", nl: "Proactieve planning.", es: "PlanificaciÃ³n proactiva." },
                    icon: "calculator", items: ["Personal Tax", "Profit Tax", "Fiscal Advice"], extended: "Minimize liabilities legally."
                },
                {
                    id: 3, 
                    title: { en: "Personal Advisory", pap: "Conseho Personal", nl: "Persoonlijk Advies", es: "AsesorÃ­a Personal" },
                    desc: { en: "Retirement planning.", pap: "Planificacion di pensioen.", nl: "Pensioenplanning.", es: "PlanificaciÃ³n de retiro." },
                    icon: "users", items: ["Succession", "Budgets", "Real Estate"], extended: "Future planning for families."
                }
            ],
            clients: [] 
        };

        let isAdmin = false;
        let isClientLogin = false; 

        // --- A11Y Logic ---
        function toggleA11yMenu() { document.getElementById('a11y-menu').classList.toggle('hidden'); }
        function toggleLargeText() { document.body.classList.toggle('large-text'); }
        function toggleHighContrast() { document.body.classList.toggle('high-contrast'); }

        function showSuccess(title, msg, callback) {
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successTitle').innerText = title;
            document.getElementById('successMsg').innerText = msg;
            document.getElementById('successContent').classList.replace('scale-90', 'scale-100');
            window.successCallback = callback;
        }
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            if(window.successCallback) window.successCallback();
        }
        function showUploadSuccess() { showSuccess("File Uploaded", "Your document has been securely sent to our server.", null); }

        function route(event, pageId) {
            if (event) event.preventDefault();
            document.querySelectorAll('.page-section').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + pageId) link.classList.add('active');
            });
            document.getElementById('mobile-menu').classList.add('hidden');
            window.scrollTo(0, 0);
            if (pageId === 'client-dashboard' && !sessionStorage.getItem('currentClient')) { openClientLogin(); return; }
        }

        function changeLang(lang) {
            appState.currentLang = lang;
            const t = translations[lang];
            
            // Update styling
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if(btn.id === `lang-${lang}`) {
                    btn.classList.add('bg-brand-accent', 'text-white');
                    btn.classList.remove('text-brand-muted', 'hover:text-brand-primary');
                } else {
                    btn.classList.remove('bg-brand-accent', 'text-white');
                    btn.classList.add('text-brand-muted', 'hover:text-brand-primary');
                }
            });

            if(!t) return;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(t[key]) el.innerText = t[key];
            });
            
            renderServices(); // Re-render services with new language
        }

        function openBooking() { document.getElementById('bookingModal').classList.remove('hidden'); }
        function closeBooking() { document.getElementById('bookingModal').classList.add('hidden'); }
        function handleBooking(e) {
            e.preventDefault();
            closeBooking();
            showSuccess("Booking Confirmed", "We have received your request.", null);
        }

        function toggleAdminPanel() {
            isClientLogin = false;
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('loginTitle').innerText = "Admin Login";
            document.getElementById('clientInputs').classList.add('hidden');
            document.getElementById('loginPassword').value = '';
            document.getElementById('loginPassword').focus();
        }

        function openClientLogin() {
            isClientLogin = true;
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('loginTitle').innerText = "Client Portal";
            document.getElementById('clientInputs').classList.remove('hidden');
            document.getElementById('loginUsername').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('loginUsername').focus();
        }

        function closeLoginModal() { document.getElementById('loginModal').classList.add('hidden'); document.getElementById('loginError').classList.add('hidden'); }

        function handleLoginSubmit(e) {
            e.preventDefault();
            const pass = document.getElementById('loginPassword').value;
            const user = document.getElementById('loginUsername').value;
            const errorMsg = document.getElementById('loginError');

            if (!isClientLogin) {
                if (pass === "Agustinaruba2008") {
                    closeLoginModal();
                    enableAdminMode();
                } else {
                    errorMsg.innerText = "Incorrect Admin Password";
                    errorMsg.classList.remove('hidden');
                }
            } else {
                const client = appState.clients.find(c => c.username === user && c.password === pass);
                if (client) {
                    sessionStorage.setItem('currentClient', JSON.stringify(client));
                    closeLoginModal();
                    loadClientDashboard(client);
                    route(null, 'client-dashboard');
                    const btn = document.getElementById('navClientLoginBtn');
                    btn.innerHTML = `<i data-lucide="user" class="w-4 h-4"></i> Portal`;
                    btn.onclick = () => route(null, 'client-dashboard');
                } else {
                    errorMsg.innerText = "Invalid Username or Password";
                    errorMsg.classList.remove('hidden');
                }
            }
        }

        function clientLogout() {
            sessionStorage.removeItem('currentClient');
            route(null, 'home');
            const btn = document.getElementById('navClientLoginBtn');
            btn.innerHTML = `<i data-lucide="lock" class="w-4 h-4"></i> Login`;
            btn.onclick = openClientLogin;
        }

        function loadClientDashboard(client) { document.getElementById('dashboard-client-name').innerText = client.name; }

        function enableAdminMode() {
            isAdmin = true;
            document.getElementById('adminToolbar').classList.add('active');
            document.querySelectorAll('.editable').forEach(el => {
                el.contentEditable = "true";
                el.classList.add('editable-highlight');
            });
            document.getElementById('addServiceBtn').classList.remove('hidden');
        }

        function exitAdmin() {
            isAdmin = false;
            document.getElementById('adminToolbar').classList.remove('active');
            document.getElementById('addServiceBtn').classList.add('hidden');
            location.reload(); 
        }

        function openClientManager() { document.getElementById('clientManagerModal').classList.remove('hidden'); renderClientList(); }
        function closeClientManager() { document.getElementById('clientManagerModal').classList.add('hidden'); }

        function renderClientList() {
            const tbody = document.getElementById('clientListBody');
            tbody.innerHTML = '';
            appState.clients.forEach((c, index) => {
                const tr = document.createElement('tr');
                tr.className = "border-b";
                tr.innerHTML = `<td class="p-3">${c.name}</td><td class="p-3 font-mono text-xs">${c.username}</td><td class="p-3 font-mono text-xs">****</td><td class="p-3"><button onclick="deleteClient(${index})" class="text-red-500 hover:text-red-700 text-sm">Delete</button></td>`;
                tbody.appendChild(tr);
            });
            if (appState.clients.length === 0) tbody.innerHTML = '<tr><td colspan="4" class="p-4 text-center text-gray-500">No clients found. Add one above.</td></tr>';
        }

        function addNewClient() {
            const name = document.getElementById('newClientName').value;
            const user = document.getElementById('newClientUser').value;
            const pass = document.getElementById('newClientPass').value;
            if (name && user && pass) {
                appState.clients.push({ name, username: user, password: pass });
                renderClientList();
                document.getElementById('newClientName').value = '';
                document.getElementById('newClientUser').value = '';
                document.getElementById('newClientPass').value = '';
            } else { alert("Please fill all fields"); }
        }

        function deleteClient(index) { if(confirm('Remove client?')) { appState.clients.splice(index, 1); renderClientList(); } }

        function saveChanges() {
            document.querySelectorAll('.editable').forEach(el => {
                const key = el.getAttribute('data-key');
                if (key) appState.text[key] = el.innerHTML;
            });
            localStorage.setItem('accountingCroesData', JSON.stringify(appState));
            const saveBtn = document.querySelector('#adminToolbar button:nth-child(2)');
            const originalText = saveBtn.innerText;
            saveBtn.innerText = "Saved!";
            setTimeout(() => saveBtn.innerText = originalText, 1000);
        }

        function loadContent() {
            const saved = localStorage.getItem('accountingCroesData');
            if (saved) {
                const data = JSON.parse(saved);
                // Keep default clients for demo purposes if empty
                if(data.clients && data.clients.length > 0) appState.clients = data.clients;
                if(data.text) appState.text = data.text;
                if(data.images) appState.images = data.images;
                if(data.services) appState.services = data.services;
                
                // Restore Text
                for (const [key, value] of Object.entries(appState.text)) {
                    const el = document.querySelector(`[data-key="${key}"]`);
                    if (el) el.innerHTML = value;
                }
                // Restore Images
                if (appState.images) {
                    for (const [key, value] of Object.entries(appState.images)) {
                        const el = document.querySelector(`[data-key="${key}"]`);
                        if (el) el.src = value;
                    }
                }
            }
            renderServices();
        }

        function updateTaxCalendar() {
            const today = new Date();
            let nextDeadline = new Date(today.getFullYear(), today.getMonth(), 15);
            if (today.getDate() > 15) nextDeadline = new Date(today.getFullYear(), today.getMonth() + 1, 15);
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateEl = document.getElementById('deadline-date');
            const counterEl = document.getElementById('deadline-counter');
            if (dateEl) dateEl.innerText = nextDeadline.toLocaleDateString('en-US', options);
            const diff = Math.ceil((nextDeadline - today) / (1000 * 60 * 60 * 24));
            if (counterEl) counterEl.innerText = diff + (diff === 1 ? " Day" : " Days");
        }

        function calculateBBO() {
            const input = parseFloat(document.getElementById('calc-input').value) || 0;
            const total = input * 0.07;
            document.getElementById('res-total').innerText = total.toFixed(2);
        }

        function renderServices() {
            const container = document.getElementById('services-container');
            container.innerHTML = '';
            appState.services.forEach((svc, index) => {
                const card = document.createElement('div');
                card.className = "glass-card p-8 md:p-10 rounded-[2rem] group cursor-pointer border border-white hover:shadow-2xl transition-all duration-500 relative overflow-hidden";
                card.onclick = () => viewServiceDetail(index);
                
                // Language aware text
                const titleText = svc.title[appState.currentLang] || svc.title.en;
                const descText = svc.desc[appState.currentLang] || svc.desc.en;

                card.innerHTML = `<div class="absolute top-0 right-0 w-32 h-32 bg-brand-accent/5 rounded-bl-[4rem] transition-all group-hover:bg-brand-accent/10 pointer-events-none"></div><div class="w-16 h-16 bg-brand-accentLight rounded-2xl flex items-center justify-center mb-8 group-hover:bg-brand-accent transition-colors duration-500 shadow-sm pointer-events-none"><i data-lucide="${svc.icon}" class="w-8 h-8 text-brand-accent group-hover:text-white transition-colors duration-500"></i></div><h3 class="text-2xl font-bold text-brand-primary mb-4 group-hover:text-brand-accent transition-colors pointer-events-none">${titleText}</h3><p class="text-brand-muted mb-8 leading-relaxed pointer-events-none">${descText}</p><div class="mt-auto border-t border-gray-100 pt-6 pointer-events-none"><div class="flex items-center text-brand-accent font-bold group-hover:gap-2 transition-all">Learn more <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i></div></div>`;
                container.appendChild(card);
            });
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function viewServiceDetail(index) {
            const svc = appState.services[index];
            const titleText = svc.title[appState.currentLang] || svc.title.en;
            const descText = svc.desc[appState.currentLang] || svc.desc.en;
            
            document.getElementById('detail-title').innerText = titleText;
            document.getElementById('detail-desc').innerText = svc.extended; // Extended description fallback to english if not fully translated in this demo
            document.getElementById('detail-icon-container').innerHTML = `<i data-lucide="${svc.icon}" class="w-10 h-10 text-brand-accent"></i>`;
            document.getElementById('detail-content').innerHTML = svc.items.map(item => `<div class="flex items-start gap-4 p-5 bg-gray-50/50 rounded-2xl border border-gray-100"><div class="bg-white p-2 rounded-lg text-brand-success"><i data-lucide="check-circle" class="w-5 h-5"></i></div><span class="font-bold text-brand-primary pt-1">${item}</span></div>`).join('');
            route(null, 'service-detail');
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function addService() {
            // Simplified add for demo - in real app would need language inputs
            const newService = { id: Date.now(), title: {en:"New Service"}, desc: {en:"Description"}, icon: "star", items: ["Feature"], extended: "Details" };
            appState.services.push(newService);
            renderServices();
            viewServiceDetail(appState.services.length - 1);
        }

        function openContact(context) {
            route(null, 'contact');
            setTimeout(() => {
                const topic = document.getElementById('topic');
                const msg = document.getElementById('message');
                if (context === 'internship') { topic.value = 'Internship Application'; msg.placeholder = "Tell us why you want to join..."; } 
                else if (context) { msg.value = `I'm interested in: ${context}`; }
                msg.focus();
            }, 100);
        }

        function handleEmail(e) {
            e.preventDefault();
            const recipient = "contact@accountingcroes.com";
            const subject = `New Inquiry: ${document.getElementById('topic').value} - ${document.getElementById('name').value}`;
            const body = `Hi Accounting Croes,\n\nMessage:\n${document.getElementById('message').value}`;
            showSuccess("Email Prepared", "Your email client will open shortly.", function() {
                window.location.href = `mailto:${recipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (typeof lucide !== 'undefined') lucide.createIcons();
            setTimeout(() => document.getElementById('preloader').classList.add('loaded'), 800);
            loadContent();
            changeLang('en'); // Default lang to initialize styling
            updateTaxCalendar();
            
            document.getElementById('imageUploadInput').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        if (currentEditingImage) {
                            const base64 = e.target.result;
                            currentEditingImage.src = base64;
                            const key = currentEditingImage.getAttribute('data-key');
                            if (key) appState.images[key] = base64;
                        }
                    }
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            const initialPage = window.location.hash.substring(1) || 'home';
            route(null, initialPage);
            
            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        const scrollY = window.scrollY;
                        const backToTop = document.getElementById('backToTop');
                        if(scrollY > 500) { backToTop.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none'); } 
                        else { backToTop.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none'); }
                        
                        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                        const scrolled = (scrollY / height) * 100;
                        document.getElementById("scrollProgress").style.width = scrolled + "%";
                        
                        const nav = document.getElementById('navbar');
                        const navContainer = document.getElementById('nav-container');
                        if (scrollY > 50) { nav.classList.add('shadow-lg'); if(navContainer) navContainer.classList.replace('h-24', 'h-16'); } 
                        else { nav.classList.remove('shadow-lg'); if(navContainer) navContainer.classList.replace('h-16', 'h-24'); }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        });
        
        let currentEditingImage = null;
        document.addEventListener('click', function(e){
            if(isAdmin && e.target.classList.contains('editable-img')) {
                currentEditingImage = e.target;
                document.getElementById('imageUploadInput').click();
            }
        });
        
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
    </script>
</body>
</html>